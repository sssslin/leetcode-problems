package com.tags.binarysearch.myPow;
//å®ç° pow(x, n) ï¼Œå³è®¡ç®— x çš„ n æ¬¡å¹‚å‡½æ•°ã€‚
// ç¤ºä¾‹ 1:
// è¾“å…¥: 2.00000, 10
//è¾“å‡º: 1024.00000
// ç¤ºä¾‹ 2:
// è¾“å…¥: 2.10000, 3
//è¾“å‡º: 9.26100
// ç¤ºä¾‹ 3:
// è¾“å…¥: 2.00000, -2
//è¾“å‡º: 0.25000
//è§£é‡Š: 2-2 = 1/22 = 1/4 = 0.25
// è¯´æ˜:
// -100.0 < x < 100.0
// n æ˜¯ 32 ä½æœ‰ç¬¦å·æ•´æ•°ï¼Œå…¶æ•°å€¼èŒƒå›´æ˜¯ [âˆ’231, 231 âˆ’ 1] ã€‚
// Related Topics æ•°å­¦ äºŒåˆ†æŸ¥æ‰¾
// ğŸ‘ 559 ğŸ‘ 0

/**
 * åŒºé—´çš„åˆ’åˆ†ï¼š
 * ç»ˆæ­¢æ¡ä»¶ï¼š
 * è¾¹ç•Œæƒ…å†µï¼š
 * nçš„èŒƒå›´ä¸ºintçš„å–å€¼èŒƒå›´ï¼Œæ‰€ä»¥å¾—è€ƒè™‘æ•´æ•°æº¢å‡ºçš„å¯èƒ½æ€§ï¼›
 * xçš„å–å€¼èŒƒå›´ä¸­ï¼Œè²Œä¼¼0å’Œ1è¿™ä¸¤ç§æƒ…å†µéœ€è¦ç‰¹æ®Šè€ƒè™‘
 * 0çš„è´Ÿæ•°æ¬¡å¹‚æ˜¯ä¸åˆæ³•çš„è¾“å…¥ï¼Œè¯¥å¦‚ä½•è§£å†³
 */
public class Solution {
    public static double myPow(double x, int n) {

      //  Java ä»£ç ä¸­ int32 å˜é‡ n \in [-2147483648, 2147483647]nâˆˆ[âˆ’2147483648,2147483647] ï¼Œ
      //  å› æ­¤å½“ n = -2147483648n=âˆ’2147483648 æ—¶æ‰§è¡Œ n = -n ä¼šå› è¶Šç•Œè€Œèµ‹å€¼å‡ºé”™ã€‚è§£å†³æ–¹æ³•æ˜¯å…ˆå°† n å­˜å…¥ long å˜é‡ b ï¼Œåé¢ç”¨ b æ“ä½œå³å¯ã€‚
      //  https://leetcode-cn.com/problems/powx-n/solution/50-powx-n-kuai-su-mi-qing-xi-tu-jie-by-jyd/
        // corner case
        if (x == 0) return x;

        long b = n;
        // è¯¥çŠ¶æ€çš„ä½œç”¨æ˜¯ï¼Œå½“nä¸ºå¥‡æ•°çš„æ—¶å€™ï¼Œæ¥å¯¹é½å¶æ•°æ‰€è®¾ç½®çš„
        if (b < 0) {
            x = 1 / x;
            b = -b;
        }

        double rest = 1.0;
        while (b >= 1) {
            // åˆ¤æ–­nä¸ºå¥‡æ•°çš„æƒ…å†µ
            if (b % 2 == 1) {
                rest *= x;
            }
            x *= x;
            b = b >> 1;
        }
        return rest;
    }

    public static void main(String[] args) {
        double x = 2.1000;
        double result = myPow(x, 3);
        System.out.println(result);
    }
}
